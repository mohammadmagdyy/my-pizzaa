{% extends 'base.html' %}

{% block content %}
<br>
<div class="my-form container p-5 my-5 rounded border border-warning">
  <form id="identicalForm" class="form-horizontal" data-by-feedback-icons-valid="glyphicon glyphicon-ok"
  data-by-feedback-icons-invalid="glyphicon glyphicon-remove"
   data-by-feedback-icons-validating="glyphicon glyphicon-refresh"
  method="POST"
   >
   {% csrf_token %}
   
    <h2 class="text-center">Sign In</h2>
    <hr>
    {% if request.user.is_authenticated %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <strong></strong>
      Welcome {{request.user.username}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% else %}
    {% if messages %}

    {% for msg in messages %}
              <div class="alert alert-{{msg.tags}} alert-dismissible fade show" role="alert">
                <strong></strong>
                {{msg}}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
          {% endfor %}

     {% endif %}
   {%  endif %}
   
      
     {% if request.user.is_authenticated %}
  <div style="display:none;">
     <label for="exampleInputEmail1">username:</label>
     <input type="text" class="form-control" name="user" value="{{username}}" id="exampleInputEmail1" aria-describedby="emailHelp"placeholder="Enter your username">
     <small id="emailHelp" class="form-text text-muted"style="display:none;">We'll never share your email with anyone else.</small>
     </div>
     
       {% else %}
       <div >
        <label for="exampleInputEmail1">username:</label>
        <input type="text" class="form-control" style="height:45px;" name="user" value="{{username}}" id="exampleInputEmail1" aria-describedby="emailHelp"placeholder="Enter your username">
        <small id="emailHelp" class="form-text text-muted"style="display:none;">We'll never share your email with anyone else.</small>
        </div>
       {% endif %}
       {% if request.user.is_authenticated %}
       <div style="display:none;">
    <label for="exampleInputPassword1">Password:</label>
    <input type="password" name="psw" value="{{password}}" class="form-control" id="validationServer0112"placeholder="Enter your password">
     </div>
     {% else  %}
     <div >
      <label for="exampleInputPassword1">Password:</label>
      <div class="input-group">
      <input type="password" name="psw" style="height:45px;" value="{{password}}" class="form-control" id="validationServer0112"placeholder="Enter your password">
      <div class="input-group-addon" >
        <i class="bi bi-eye"  ></i>
        <input type="checkbox"   onclick="showpass()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" >
          <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
          <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
        </svg>
        </button>
        </span>
      </div>
       </div>
       </div>
     {% endif %}
 {% if request.user.is_authenticated  %}
     <div class="row d-flex justify-content-center" >
   <button type="submit" name="btnsubmit" style="margin-top:10px;width:180px;display:none;" class="btn btn-outline-success  ">Sign in</button>
   {% else %}
   <div class="row d-flex justify-content-center" >
   <button type="submit" name="btnsubmit" style="margin-top:10px;width:180px;" class="btn btn-outline-success  ">Sign in</button>
   {% endif%}
  </div>
  </form>
  </div>
  <script>
    var mail=document.getElementById("exampleInputEmail1");
    var small=document.getElementById("emailHelp");
    mail.onfocus=function(){
      small.style.display="block";
    }
    mail.onblur=function(){
      small.style.display="none";
    }
  </script>
  <script>
    

    function showpass(){
     
     passw=document.getElementById("validationServer0112");
     if(passw.type=='password'){
       passw.type='text';
     }else{
       passw.type='password';}
     
     }
   </script>
{% endblock content %}